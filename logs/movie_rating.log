
2026-01-04 01:41:56,983 - movie_rating - INFO - Rating movie (movie_id=1006, rating=5, route=/api/v1/movies/1006/ratings)
2026-01-04 01:41:56,988 - movie_rating - ERROR - Service error: movie with id 1006 not found
Traceback (most recent call last):
  File "C:\Users\Administrator\AppData\Local\pypoetry\Cache\virtualenvs\movierating-eOK5G0Tn-py3.13\Lib\site-packages\starlette\middleware\exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "C:\Users\Administrator\AppData\Local\pypoetry\Cache\virtualenvs\movierating-eOK5G0Tn-py3.13\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 20, in __call__
    raise e
  File "C:\Users\Administrator\AppData\Local\pypoetry\Cache\virtualenvs\movierating-eOK5G0Tn-py3.13\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\Administrator\AppData\Local\pypoetry\Cache\virtualenvs\movierating-eOK5G0Tn-py3.13\Lib\site-packages\starlette\routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\Administrator\AppData\Local\pypoetry\Cache\virtualenvs\movierating-eOK5G0Tn-py3.13\Lib\site-packages\starlette\routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "C:\Users\Administrator\AppData\Local\pypoetry\Cache\virtualenvs\movierating-eOK5G0Tn-py3.13\Lib\site-packages\starlette\routing.py", line 66, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Administrator\AppData\Local\pypoetry\Cache\virtualenvs\movierating-eOK5G0Tn-py3.13\Lib\site-packages\fastapi\routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        dependant=dependant, values=values, is_coroutine=is_coroutine
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Administrator\AppData\Local\pypoetry\Cache\virtualenvs\movierating-eOK5G0Tn-py3.13\Lib\site-packages\fastapi\routing.py", line 193, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Administrator\AppData\Local\pypoetry\Cache\virtualenvs\movierating-eOK5G0Tn-py3.13\Lib\site-packages\starlette\concurrency.py", line 41, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Administrator\AppData\Local\pypoetry\Cache\virtualenvs\movierating-eOK5G0Tn-py3.13\Lib\site-packages\anyio\to_thread.py", line 33, in run_sync
    return await get_asynclib().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        func, *args, cancellable=cancellable, limiter=limiter
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Administrator\AppData\Local\pypoetry\Cache\virtualenvs\movierating-eOK5G0Tn-py3.13\Lib\site-packages\anyio\_backends\_asyncio.py", line 877, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "C:\Users\Administrator\AppData\Local\pypoetry\Cache\virtualenvs\movierating-eOK5G0Tn-py3.13\Lib\site-packages\anyio\_backends\_asyncio.py", line 807, in run
    result = context.run(func, *args)
  File "C:\Users\Administrator\Documents\GitHub\Movie-Rating-System\app\api\controller\movie_controller.py", line 187, in add_rating
    rating = movie_service.add_rating(
        db=db,
        movie_id=movie_id,
        score=payload.score
    )
  File "C:\Users\Administrator\Documents\GitHub\Movie-Rating-System\app\services\movie_service.py", line 165, in add_rating
    raise MovieNotFoundError(movie_id)
app.exceptions.movie_exceptions.MovieNotFoundError: movie with id 1006 not found
2026-01-04 01:44:10,802 - movie_rating - WARNING - Validation error at ('body', 'release_year'): Input should be greater than or equal to 1888
